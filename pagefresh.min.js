"use strict";
/**
 * TryUps Fresh Pages
 * Hashtag pagination very easy.
 * version: 1.2.3
 */
const Fresh=function({el:t,settings:e}){t=t||"body",this.el=document.querySelector(t),this.settings={},this.settings=e|{module:!1,folder:"/pages/",home:"#!/home"},this.title=document.title,window.onhashchange=this.go(),this.hashHandler()};Fresh.prototype.load=function(t){if("[object HashChangeEvent]"==t&&(t=location.hash.slice(3)),1==Array.isArray(t)){(async()=>{const e=this.settings.folder||"/pages/";return await Promise.all(t.map(t=>fetch(e+t+".html").then(t=>t.text())))})().then(t=>{this.el.innerHTML=t.toString(),this.setTitle()})}else{(async()=>{let e=await fetch("pages/"+t+".html");return await e.text()})().then(t=>{null==t&&(t="Error 404, page not found."),this.el.innerHTML=t.toString(),this.setTitle()})}},Fresh.prototype.go=function(){let t=location.hash.slice(3);""==t&&(location.hash=this.settings.home||"#!/home",t=this.settings.home?this.settings.home.slice(3):"home"),this.load(t)},Fresh.prototype.setTitle=function(){var t=this;setTimeout(function(){!function(){let e=document.querySelector("meta[name='fresh']"),s=e;e&&(e=e.getAttribute("value"),s.remove()),null!=e&&""!=e||(e="Error!"),document.title=t.title+" â€“ "+e}()},100)},Fresh.prototype.hashHandler=function(){this.oldHash=window.location.hash,this.Check;var t=this;this.Check=setInterval(function(){t.oldHash!=window.location.hash&&(t.oldHash=window.location.hash,t.go())},100)};try{module.exports=exports=Fresh}catch(t){}